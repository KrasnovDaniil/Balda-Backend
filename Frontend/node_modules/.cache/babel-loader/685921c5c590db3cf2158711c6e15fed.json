{"ast":null,"code":"import _slicedToArray from \"C:\\\\Ghub\\\\freelancer_portal\\\\new-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport socket from 'sockjs-client';\nimport React, { useState, useEffect } from 'react';\n\nvar SocketConnection = function SocketConnection() {\n  var _UseState = UseState(false),\n      _UseState2 = _slicedToArray(_UseState, 2),\n      connected = _UseState2[0],\n      setConnected = _UseState2[1];\n\n  var stompClient = null;\n\n  var connect = function connect() {\n    var socket = new SockJS('/gs-guide-websocket');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function (frame) {\n      setConnected(true);\n      console.log('Connected: ' + frame);\n      stompClient.subscribe('/topic/greetings', function (greeting) {\n        showGreeting(JSON.parse(greeting.body).content);\n      });\n    });\n  };\n\n  var disconnect = function disconnect() {\n    if (stompClient !== null) {\n      stompClient.disconnect();\n    }\n\n    setConnected(false);\n    console.log('Disconnected');\n  };\n\n  var sendMsg = function sendMsg(text) {\n    stompClient.send(\"app/hello\", {}, JSON.stringify({\n      'content': $('#content').val()\n    }));\n  };\n};","map":{"version":3,"sources":["C:/Ghub/freelancer_portal/new-app/src/components/Chat/SocketConnection.js"],"names":["socket","React","useState","useEffect","SocketConnection","UseState","connected","setConnected","stompClient","connect","SockJS","Stomp","over","frame","console","log","subscribe","greeting","showGreeting","JSON","parse","body","content","disconnect","sendMsg","text","send","stringify","$","val"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,eAAnB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAAA,kBACOC,QAAQ,CAAC,KAAD,CADf;AAAA;AAAA,MACpBC,SADoB;AAAA,MACTC,YADS;;AAE3B,MAAIC,WAAW,GAAG,IAAlB;;AAEA,MAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClB,QAAIT,MAAM,GAAG,IAAIU,MAAJ,CAAW,qBAAX,CAAb;AACAF,IAAAA,WAAW,GAAGG,KAAK,CAACC,IAAN,CAAWZ,MAAX,CAAd;AACAQ,IAAAA,WAAW,CAACC,OAAZ,CAAoB,EAApB,EAAwB,UAAUI,KAAV,EAAiB;AACrCN,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBF,KAA5B;AACAL,MAAAA,WAAW,CAACQ,SAAZ,CAAsB,kBAAtB,EAA0C,UAAUC,QAAV,EAAoB;AAC1DC,QAAAA,YAAY,CAACC,IAAI,CAACC,KAAL,CAAWH,QAAQ,CAACI,IAApB,EAA0BC,OAA3B,CAAZ;AACH,OAFD;AAGH,KAND;AAOH,GAVD;;AAYA,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,QAAGf,WAAW,KAAK,IAAnB,EAAwB;AACpBA,MAAAA,WAAW,CAACe,UAAZ;AACH;;AACDhB,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH,GAND;;AAQA,MAAMS,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAU;AACtBjB,IAAAA,WAAW,CAACkB,IAAZ,CAAiB,WAAjB,EAA8B,EAA9B,EAAkCP,IAAI,CAACQ,SAAL,CAAe;AAAC,iBAAUC,CAAC,CAAC,UAAD,CAAD,CAAcC,GAAd;AAAX,KAAf,CAAlC;AACH,GAFD;AAMH,CA9BD","sourcesContent":["import socket from 'sockjs-client';\r\nimport React, {useState, useEffect} from 'react';\r\n\r\nconst SocketConnection = () => {\r\n    const [connected, setConnected] = UseState(false);\r\n    let stompClient = null;\r\n\r\n    const connect = () => {\r\n        let socket = new SockJS('/gs-guide-websocket');\r\n        stompClient = Stomp.over(socket);\r\n        stompClient.connect({}, function (frame) {\r\n            setConnected(true);\r\n            console.log('Connected: ' + frame);\r\n            stompClient.subscribe('/topic/greetings', function (greeting) {\r\n                showGreeting(JSON.parse(greeting.body).content);\r\n            });\r\n        });\r\n    }\r\n\r\n    const disconnect = () => {\r\n        if(stompClient !== null){\r\n            stompClient.disconnect();\r\n        }\r\n        setConnected(false);\r\n        console.log('Disconnected');\r\n    }\r\n\r\n    const sendMsg = (text) => {\r\n        stompClient.send(\"app/hello\", {}, JSON.stringify({'content':$('#content').val()}));\r\n    }\r\n\r\n    \r\n\r\n}"]},"metadata":{},"sourceType":"module"}