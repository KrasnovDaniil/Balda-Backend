{"version":3,"sources":["components/Messages/Message/Message.js","components/Messages/Messages.js","components/InfoBar/InfoBar.js","components/Input/Input.js","components/SocketConnection.js","components/Chat/Chat.js","components/Join/Join.js","App.js","index.js","icons/onlineIcon.png","icons/closeIcon.png"],"names":["Message","message","text","user","name","isSentByCurrentUser","className","ReactEmoji","emojify","Messages","messages","map","i","key","InfoBar","room","src","onlineIcon","alt","href","closeIcon","Input","sendMessage","saveBoth","type","placeholder","value","onChange","target","onKeyPress","event","onClick","SocketConnection","useState","Chat","location","socket","setName","setRoom","messageObj","setMessageObj","setMessage","setMessages","useEffect","queryString","parse","search","io","connect","greetingMsg","preventDefault","SignIn","e","to","App","path","exact","component","Join","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.7f88c178.chunk.js","sourcesContent":["import React from 'react';\n\nimport './Message.css';\n\nimport ReactEmoji from 'react-emoji';\n\nconst Message = ({ message: { text, user }, name }) => {\n  let isSentByCurrentUser = false;\n\n  if (user === name) {\n    isSentByCurrentUser = true;\n  }\n\n  return (\n    isSentByCurrentUser\n      ? (\n        <div className=\"messageContainer justifyEnd\">\n          <p className=\"sentText pr-10\">{name}</p>\n          <div className=\"messageBox backgroundBlue\">\n            <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\n          </div>\n        </div>\n        )\n        : (\n          <div className=\"messageContainer justifyStart\">\n            <div className=\"messageBox backgroundLight\">\n              <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\n            </div>\n            <p className=\"sentText pl-10 \">{user}</p>\n          </div>\n        )\n  );\n}\n\nexport default Message;","import React from 'react';\n\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nimport Message from './Message/Message';\n\nimport './Messages.css';\n\n//  displaying messages on screen\n\nconst Messages = ({messages, name}) => (\n  <ScrollToBottom className=\"messages\">\n    {messages.map((message, i) => \n    <div key={i}>\n      <Message message={message} name={name}/>\n    </div>)}\n  </ScrollToBottom>\n);\n\nexport default Messages;","import React from 'react';\n\nimport onlineIcon from '../../icons/onlineIcon.png';\nimport closeIcon from '../../icons/closeIcon.png';\n\nimport './InfoBar.css';\n\nconst InfoBar = ({ room }) => (\n  <div className=\"infoBar\">\n    <div className=\"leftInnerContainer\">\n      <img className=\"onlineIcon\" src={onlineIcon} alt=\"online icon\" />\n      <h3>{room}</h3>\n    </div>\n    <div className=\"rightInnerContainer\">\n      <a href=\"/\"><img src={closeIcon} alt=\"close icon\" /></a>\n    </div>\n  </div>\n);\n\nexport default InfoBar;","import React from 'react';\n\nimport './Input.css';\n\nconst Input = ({sendMessage, message, saveBoth} ) => (\n  <form name=\"inputForm\" className=\"form\">\n    <input\n      className=\"input\"\n      type=\"text\"\n      placeholder=\"Type a message...\"\n      value={message}\n      onChange={({ target: { value } }) => (saveBoth(value))} \n      onKeyPress={event => (event.key === 'Enter' ? sendMessage(event) : null)}\n      />\n    <button className=\"sendButton\" onClick={event => sendMessage(event)}>Send</button>\n  </form>\n)\n\nexport default Input;","import React, { useState, useEffect } from \"react\";\r\n// import Stomp from \"@stomp/stompjs\";\r\n// import * as SockJS from \"sockjs-client\";\r\n\r\n\r\nconst SocketConnection = () => {\r\n    var socket = 1;\r\n    var stompClient = null;\r\n    const [connected, setConnected] = useState(false);\r\n\r\n    // set connection between socket and user\r\n    // const connect = () => {\r\n    //     // var socket = new SockJS('https://localhost:3000/ownsite');\r\n    //     stompClient = Stomp.over(socket);\r\n    //     stompClient.connect({}, function (frame) {\r\n    //         setConnected(true);\r\n    //         console.log('Connected: ' + frame);\r\n    //         stompClient.subscribe('/topic/method', function (greeting) {\r\n    //             showGreeting(JSON.parse(greeting.body).content);\r\n    //         });\r\n    //     });\r\n    // }\r\n\r\n    // //disconnect websocket from user\r\n    // const disconnect = () => {\r\n    //     if (stompClient !== null) {\r\n    //         stompClient.disconnect();\r\n    //     }\r\n    //     setConnected(false);\r\n    //     console.log(\"Disconnected\");\r\n    // }\r\n\r\n    // // send message to user\r\n    // const sendMessage = (text) => {\r\n    //     stompClient.send(\"/app/hello\", {}, JSON.stringify({'content': text}));\r\n    // }\r\n\r\n    // const showGreeting = (message) => {\r\n    //     console.log(\"ddsds\");\r\n    //     // $(\"#greetings\").append(\"<tr><td>\" + message + \"</td></tr>\");\r\n    // }\r\n\r\n}\r\n\r\nexport default SocketConnection;","import React, { useState, useEffect } from \"react\";\nimport queryString from 'query-string';\nimport io from \"socket.io-client\";\n\nimport Messages from '../Messages/Messages';\nimport InfoBar from '../InfoBar/InfoBar';\nimport Input from '../Input/Input';\nimport SocketConnection from '../SocketConnection';\n\nimport './Chat.css';\n\n\nconst Chat = ({ location }) => {\n  const socket = new SocketConnection();\n  // here are 'react useState hooks' it's kind of a class properties but for functional components \n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n  const [users, setUsers] = useState('');\n  // messageObj represents message data namely text and sender name \n  const [messageObj, setMessageObj] = useState({ text:'qwe', user:'' });\n  const [message, setMessage] = useState(''); // just text of current typed message\n  const [messages, setMessages] = useState([]);\n  const ENDPOINT = \"http://localhost:8080\";\n\n  useEffect(() => {\n    const { name, room } = queryString.parse(location.search);  // parse specified data from URL to pair (tuple)\n    socket = io(ENDPOINT);\n    setRoom(room); // set user name and his room\n    setName(name);\n\n    socket.connect();\n\n    // socket.emit('join', { name, room }, (error) => {\n    //   if(error) {\n    //     alert(error);\n    //   }\n    // });\n    const greetingMsg = {text: `Hello ${name}`, user: 'admin'}; // just a greeting mesage\n    setMessages((messages) => [...messages, greetingMsg]); // add greeting message from admin\n  }, [ENDPOINT, location.search]);\n  \n  // useEffect(() => {\n  //   socket.on('message', message => {\n  //     setMessages(messages => [ ...messages, message ]);\n  //   });\n    \n  //   socket.on(\"roomData\", ({ users }) => {\n  //     setUsers(users);\n  //   });\n  // }, []);\n\n  // Helping method for saving message and messageObj\n  // I united two setters in one method, because, as I noticed, they don't work properly separately in Input.js\n  // and I don't know why may be here are some problems with asynchronous. \n  const saveBoth = (value) => {\n    setMessage(value);\n    setMessageObj(() =>({\n      text: value,\n      user: name,\n    }));\n  }\n  \n  // method of sending message\n  const sendMessage = (event) => {  \n    event.preventDefault();\n    // here may be other logic for message validation\n    if (message) {\n      setMessages((messages) => [...messages, messageObj]); \n      setMessage(()=>'')\n      // here should be sending message to backend like below\n      // stompClient.send(\"/app/hello\", {}, JSON.stringify({'name':$(\"#name\").val()}));\n      socket.sendMessage(message);\n    }\n  };\n\n  return (\n    <div className=\"outerContainer\">\n      <div className=\"container\">\n        <InfoBar room={room} />\n        <Messages messages={messages} name={name} />\n        <Input message={message} sendMessage={sendMessage} saveBoth={saveBoth} />\n      </div>\n    </div>\n  );\n}\n\nexport default Chat;\n","import React, { useState } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport './Join.css';\n\nexport default function SignIn() {\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n\n\n  return (\n    <div className=\"joinOuterContainer\">\n      <div className=\"joinInnerContainer\">\n        <h1 className=\"heading\">Join</h1>\n        <div>\n          <input placeholder=\"Name\" className=\"joinInput\" type=\"text\" onChange={(event) => setName(event.target.value)} />\n        </div>\n        <div>\n          <input placeholder=\"Room\" className=\"joinInput mt-20\" type=\"text\" onChange={(event) => setRoom(event.target.value)} />\n        </div>\n        <Link onClick={e => (!name || !room) ? e.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\n          <button className={'button mt-20'} type=\"submit\">Sign In</button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport Chat from './components/Chat/Chat';\nimport Join from './components/Join/Join';\n\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nlet stompClient = null;\n\nconst App = () => {\n  return (\n    <Router>\n       <Route path=\"/\" exact component={Join} />\n       <Route path=\"/chat\" component={Chat} />\n    </Router>\n  );\n  \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\""],"sourceRoot":""}